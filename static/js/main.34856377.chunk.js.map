{"version":3,"sources":["assets/images/cross.png","components/views/LoadingPage.js","components/views/FrontPage.js","components/TextInput.js","components/NavigationButtons.js","components/LoadingBar.js","components/views/CreateParty.js","components/views/JoinParty.js","components/ReactSwipe.js","components/TabMenu.js","components/InfoIndicator.js","utilities/CookieUtils.js","components/views/PlayList.js","components/SearchBar.js","components/views/AddSong.js","components/SlidingMenu.js","components/views/PartyScreen.js","components/views/AboutPage.js","App.js","index.js","assets/images/more.png","assets/images/search.png"],"names":["module","exports","LoadingPage","react_default","a","createElement","className","FrontPage","props","screen","type","onClick","TextInput","placeholder","getField","validate","pattern","maxlength","isAlert","onChange","onReturnKeyPress","invalidMessage","invalidValue","initialValue","textField","useRef","_useState","useState","_useState2","Object","slicedToArray","input","setInput","useEffect","Boolean","length","spellCheck","ref","maxLength","e","target","value","defaultValue","onKeyDown","keyCode","current","blur","defaultProps","NavigationButtons","backAction","nextAction","leftButton","rightButton","LoadingBar","CreateParty","createPlaylist","playlistData","loading","nickname","setNickname","_useState3","_useState4","isFieldValid","setIsFieldValid","_useState5","_useState6","alert","setAlert","fieldValidation","components_TextInput","val","components_NavigationButtons","components_LoadingBar","JoinParty","joinParty","isPinValid","clearParty","initialPin","partyPin","setPartyPin","areFieldsValid","setAreFieldsValid","_useState7","_useState8","alertArray","setAlertArray","_useState9","_useState10","partyPinError","setPartyPinError","prevState","ReactSwipe","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","containerEl","React","createRef","swipeOptions","swipe","Swipe","kill","undefined","getPos","getNumSlides","_this$swipe","slide","apply","arguments","next","prev","_this$props","id","style","children","concat","container","wrapper","Children","map","child","childStyle","objectSpread","cloneElement","PureComponent","overflow","visibility","position","height","float","width","transitionProperty","childCount","TabMenu","moreButton","tabPos","tab","setTab","tabSwitch","alt","src","more","info","isOpen","setIsOpen","isSeen","setIsSeen","close","document","querySelector","classList","add","remove","localStorage","getItem","left","top","ReactDOM","createPortal","react_transition_group","in","timeout","classNames","unmountOnExit","stopPropagation","ReactHtmlParser","setItem","role","body","getCookie","Authorization","cookie","split","clearCookie","setCookie","res","headers","authorization","Date","setFullYear","getFullYear","PlayList","userRole","_props$playlistData","accessLink","spotifyName","pin","creator","songs","refreshPlaylist","copyAccessLink","songId","index","removeStatus","setRemoveStatus","playlistNameInfo","partyPinInfo","removeSong","_ref","asyncToGenerator","regenerator_default","mark","_callee","bodyFormData","wrap","_context","FormData","set","axios","method","url","server","data","withCredentials","t0","console","log","stop","_x","_x2","isValidToDelete","creatorId","userId","songItem","item","key","albumCoverUrl","name","artists","artist","artistIndex","username","backgroundImage","cross","backgroundPosition","backgroundSize","backgroundRepeat","songRemoveButton","duration","song","millis","minutes","Math","floor","seconds","toFixed","millisToHoursAndMinutesAndSeconds","totalSongDuration","data-scroll-lock-scrollable","InfoIndicator","href","SearchBar","onClear","inputEl","songName","setSongName","search","focus","loaderTimeout","AddSong","addSongTimeOut","response","setResponse","isPlaying","setIsPlaying","showSongLoading","setShowSongLoading","readyToPlay","setReadyToPlay","_useState11","_useState12","offset","setOffset","_useState13","_useState14","noResult","setNoResult","_useState15","_useState16","addingSong","setAddingSong","_useDebounce","useDebounce","inputDebounced","_useState17","_useState18","isScrollingFinished","setIsScrollingFinished","scrollTimeOut","refEl","getSong","sent","tracks","items","scrollTop","addSongToPlaylist","_ref3","_callee3","_context3","setTimeout","onCanPlayThrough","clearTimeout","togglePreview","isSongExisting","some","preview_url","album","images","debouncedAddSong","autoPlay","onEnded","components_SearchBar","onScroll","element","offsetHeight","scrollHeight","SlidingMenu","exit","PartyScreen","reactSwipeEl","setTabPos","toggleMore","setToggleMore","setSongs","songList","navigator","clipboard","writeText","process","autoFetch","setInterval","clearInterval","components_SlidingMenu","removeItem","components_TabMenu","components_ReactSwipe","continuous","callback","views_PlayList","views_AddSong","AboutPage","App","setScreen","setLoading","setInitialPin","setPlaylistData","setIsPinValid","dummyReq","parseQueryString","window","location","substring","checkUser","_ref2","_callee2","_context2","_ref4","_callee4","_context4","_x3","disablePageScroll","vh","innerHeight","documentElement","setProperty","addEventListener","preventDefault","views_LoadingPage","views_FrontPage","views_CreateParty","views_JoinParty","views_PartyScreen","views_AboutPage","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.34856377.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFOSURBVHgB7dvLDcIwEIThiAoohf4v0AGlUMIPiFgKQVEe3vWOV4yUG9bOh/I6OMMwC3B+HdfXcRk6ybvr2Pm89sM37s4njx6QI+4xdr4vImc4ekDOcCwiF3DSyAXcL3IFJ4lcwX0j+VycWyKB3Igrue1dEIo83JUOkNUdEUaadUMQad4JIaRbFwSQ7h0IRDabHYFsPrPlQKLOmhaDib7uPQsgcFNzK4IKzqMQajjLYqjiLAqijqsp2g2uAtkPrmQnsi9ciSFSD1digNTFlVQg9XElB5BuuNPwz76kPkXJfJMh82OCzA96Mr+qkfllu6Yo6kiLgqgiLYuhhvQohArSswjRyBYFwpAtBzdHRvyrzWYSeF24z0bgzubWAQGcWxeEcOadEMSZdUMYV92RDnBVSHJvxrvm3045Lsi7IXayIO+W5smCvJvSJwtSfVbwBNL9hozXmOmOAAAAAElFTkSuQmCC\"","import React from 'react';\n\nconst LoadingPage = () => (\n  <div className=\"loading-page-container\">\n    <div className=\"page-loader\">\n      <span />\n      <span />\n      <span />\n    </div>\n    <p>loading</p>\n  </div>\n);\n\nexport default LoadingPage;\n","import React from 'react';\n\nconst FrontPage = (props) => {\n  const { screen } = props;\n\n  return (\n    <div className=\"front-page-container\">\n      <div className=\"logo\">PlayVi</div>\n      <button type=\"button\" className=\"big-text-button\" onClick={() => screen('create')}>Start a party</button>\n      <button type=\"button\" className=\"big-text-button\" onClick={() => screen('join')}>Join to a party</button>\n      <button type=\"button\" className=\"small-text-button second\" onClick={() => screen('about')}>About</button>\n    </div>\n  );\n};\n\nexport default FrontPage;\n","import React, { useState, useEffect, useRef } from 'react';\n\nconst TextInput = (props) => {\n  const {\n    placeholder,\n    getField,\n    validate,\n    pattern,\n    maxlength,\n    isAlert,\n    onChange,\n    onReturnKeyPress,\n    invalidMessage,\n    invalidValue,\n    initialValue,\n  } = props;\n\n  const textField = useRef(null);\n\n  const [input, setInput] = useState(initialValue);\n\n  const onChangeHandler = (e) => {\n    setInput(e.target.value);\n    onChange();\n  };\n\n  useEffect(() => {\n    getField(input);\n    validate(Boolean(input.length));\n  }, [input]);\n\n  const handleKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      textField.current.blur();\n      onReturnKeyPress();\n    }\n  };\n\n  return (\n    <div className=\"custon-text-input-wrapper\">\n      <input\n        spellCheck={false}\n        ref={textField}\n        type=\"text\"\n        maxLength={maxlength}\n        pattern={pattern}\n        className={isAlert ? 'custom-text-input alert' : 'custom-text-input'}\n        placeholder={placeholder}\n        onChange={onChangeHandler}\n        defaultValue={initialValue}\n        onKeyDown={handleKeyPress}\n      />\n      {invalidValue && <span>{invalidMessage}</span>}\n    </div>\n  );\n};\n\nTextInput.defaultProps = {\n  maxLength: 15,\n  onChange: () => {},\n  invalidValue: false,\n  invalidMessage: '',\n  initialValue: '',\n};\n\nexport default TextInput;\n","import React from 'react';\n\nconst NavigationButtons = (props) => {\n  const {\n    backAction, nextAction, leftButton, rightButton,\n  } = props;\n\n  return (\n    <div className=\"navigation-buttons-container\">\n      <button type=\"button\" className=\"big-text-button\" onClick={backAction}>{leftButton}</button>\n      <button type=\"button\" className=\"big-text-button\" onClick={nextAction}>{rightButton}</button>\n    </div>\n  );\n};\n\nexport default NavigationButtons;\n","import React from 'react';\n\n// import '../assets/stylus/global.css';\n\nconst LoadingBar = () => (\n  <div className=\"linear-progress small\">\n    <div className=\"bar bar1\" />\n    <div className=\"bar bar2\" />\n  </div>\n);\n\nexport default LoadingBar;\n","import React, { useEffect, useState } from 'react';\n\nimport TextInput from '../TextInput';\nimport NavigationButtons from '../NavigationButtons';\nimport LoadingBar from '../LoadingBar';\n\n// import '../../assets/stylus/global.css';\n\nconst CreateParty = (props) => {\n  const {\n    screen, createPlaylist, playlistData, loading,\n  } = props;\n  const [nickname, setNickname] = useState('');\n  const [isFieldValid, setIsFieldValid] = useState(false);\n  const [alert, setAlert] = useState(false);\n\n  const fieldValidation = () => {\n    if (isFieldValid) {\n      createPlaylist(nickname);\n    } else {\n      setAlert(true);\n    }\n  };\n\n  useEffect(() => {\n    if (nickname.length) {\n      setAlert(false);\n    }\n  }, [nickname]);\n\n  useEffect(() => {\n    if (playlistData !== null) {\n      screen('admin');\n    } else {\n      // server error\n    }\n  }, [playlistData]);\n\n  return (\n    <div className=\"create-party-container\">\n      <TextInput\n        getField={val => setNickname(val)}\n        placeholder=\"Nickname\"\n        validate={val => setIsFieldValid(val)}\n        isAlert={alert}\n        onReturnKeyPress={loading ? null : fieldValidation}\n      />\n      <p className=\"info-text\">Pick a nickname which will appear below the songs you add to the playlist.</p>\n      <p className=\"info-text\">Note that the party is going to expire after 7 days.</p>\n      <NavigationButtons\n        leftButton='Back'\n        rightButton='Create'\n        backAction={() => screen('frontpage')}\n        nextAction={loading ? null : fieldValidation}\n      />\n      {loading && <LoadingBar />}\n    </div>\n  );\n};\n\nexport default CreateParty;\n","import React, { useEffect, useState } from 'react';\n\nimport TextInput from '../TextInput';\nimport NavigationButtons from '../NavigationButtons';\nimport LoadingBar from '../LoadingBar';\n\n// import '../../assets/stylus/global.css';\n\nconst JoinParty = (props) => {\n  const {\n    screen, joinParty, isPinValid, loading, clearParty, initialPin,\n  } = props;\n  const [nickname, setNickname] = useState('');\n  const [partyPin, setPartyPin] = useState(initialPin);\n  const [areFieldsValid, setAreFieldsValid] = useState([false, false]);\n  const [alertArray, setAlertArray] = useState([false, false]);\n  const [partyPinError, setPartyPinError] = useState(false);\n\n  useEffect(() => {\n    if (isPinValid !== null && !isPinValid) {\n      setPartyPinError(true);\n    }\n  }, [isPinValid]);\n\n  const fieldValidation = () => {\n    if (areFieldsValid[0] && areFieldsValid[1]) {\n      joinParty(partyPin, nickname);\n    } else {\n      setAlertArray([!areFieldsValid[0], !areFieldsValid[1]]);\n    }\n  };\n\n  const goBack = () => {\n    screen('frontpage');\n    clearParty();\n  };\n\n  useEffect(() => {\n    if (partyPin.length) {\n      setAlertArray(prevState => [false, prevState[1]]);\n    }\n    if (nickname.length) {\n      setAlertArray(prevState => [prevState[0], false]);\n    }\n  }, [partyPin, nickname]);\n\n  useEffect(() => {\n    if (initialPin !== '') {\n      setAreFieldsValid([true, false]);\n    }\n    return setPartyPinError(false);\n  }, []);\n\n  return (\n    <div className=\"join-party-container\">\n      <div className=\"text-field-wrapper\">\n        <TextInput\n          getField={val => setPartyPin(val)}\n          placeholder=\"PARTY PIN\"\n          initialValue={partyPin}\n          pattern=\"\\d*\"\n          validate={val => setAreFieldsValid([val, areFieldsValid[1]])}\n          isAlert={alertArray[0]}\n          maxlength={5}\n          invalidValue={partyPinError}\n          invalidMessage=\"Invalid PIN\"\n          onChange={() => setPartyPinError(false)}\n        />\n        <TextInput\n          getField={val => setNickname(val)}\n          placeholder=\"Nickname\"\n          validate={val => setAreFieldsValid([areFieldsValid[0], val])}\n          isAlert={alertArray[1]}\n          onReturnKeyPress={loading ? null : fieldValidation}\n        />\n      </div>\n      <p className=\"info-text\">Pick a nickname which will appear below the songs you add to the playlist.</p>\n      <NavigationButtons\n        leftButton='Back'\n        rightButton='Join'\n        backAction={goBack}\n        nextAction={loading ? null : fieldValidation}\n      />\n      {loading && <LoadingBar />}\n    </div>\n  );\n};\n\nexport default JoinParty;\n","import React, { PureComponent } from 'react';\nimport Swipe from 'swipe-js-iso';\n\nclass ReactSwipe extends PureComponent {\n  static defaultProps = {\n    swipeOptions: {},\n    style: {\n      container: {\n        overflow: 'hidden',\n        visibility: 'hidden',\n        position: 'relative',\n      },\n      wrapper: {\n        overflow: 'hidden',\n        position: 'relative',\n        height: '100%',\n      },\n      child: {\n        float: 'left',\n        width: '100%',\n        position: 'relative',\n        transitionProperty: 'transform',\n      },\n    },\n    className: '',\n    childCount: 0,\n  };\n\n  constructor() {\n    super();\n    this.containerEl = React.createRef();\n  }\n\n  componentDidMount() {\n    const { swipeOptions } = this.props;\n    this.swipe = Swipe(this.containerEl.current, swipeOptions);\n  }\n\n  componentWillUnmount() {\n    this.swipe.kill();\n    this.swipe = undefined;\n  }\n\n  getPos() {\n    return this.swipe.getPos();\n  }\n\n  getNumSlides() {\n    return this.swipe.getNumSlides();\n  }\n\n  slide(...args) {\n    this.swipe.slide(...args);\n  }\n\n  next() {\n    this.swipe.next();\n  }\n\n  prev() {\n    this.swipe.prev();\n  }\n\n  render() {\n    const {\n      id, className, style, children,\n    } = this.props;\n\n    return (\n      <div\n        id={id}\n        ref={this.containerEl}\n        className={`react-swipe-container ${className}`}\n        style={style.container}\n      >\n        <div style={style.wrapper}>\n          {React.Children.map(children, (child) => {\n            if (!child) {\n              return null;\n            }\n\n            const childStyle = child.props.style\n              ? { ...style.child, ...child.props.style }\n              : style.child;\n\n            return React.cloneElement(child, { style: childStyle });\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ReactSwipe;\n","import React, { useState } from 'react';\n\nimport more from '../assets/images/more.png';\n\nconst TabMenu = (props) => {\n  const { moreButton, next, prev, tabPos } = props;\n  const [tab, setTab] = useState(0);\n\n  const tabSwitch = (type) => {\n    if (type === 'next') {\n      setTab(1);\n      next();\n    } else if (type === 'prev') {\n      setTab(0);\n      prev();\n    }\n  };\n\n  if (tab === 0 && tabPos === 1) {\n    setTab(1);\n  } else if (tab === 1 && tabPos === 0) {\n    setTab(0);\n  }\n\n  return (\n    <div className=\"tab-menu-container\">\n      <button type=\"button\" className=\"tab-button\" onClick={() => tabSwitch('prev')}>Playlist</button>\n      <button type=\"button\" className=\"tab-button\" onClick={() => tabSwitch('next')}>Add Songs</button>\n      <button type=\"button\" className=\"more-button\" onClick={() => moreButton()}>\n        <img alt=\"more\" src={more} />\n      </button>\n      <span className={tab ? 'underline slide' : 'underline'} />\n    </div>\n  );\n};\n\nexport default TabMenu;\n","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { CSSTransition } from 'react-transition-group';\nimport ReactHtmlParser from 'react-html-parser';\n\nconst LoadingBar = (props) => {\n  const {\n    id,\n    // element,\n    // index,\n    info,\n  } = props;\n\n  const [isOpen, setIsOpen] = useState(false);\n  const [isSeen, setIsSeen] = useState(false);\n\n  /*\n  const [pos, setPos] = useState({ top: 0, left: 0 });\n\n  useEffect(() => {\n    const { top, left } = document.querySelectorAll(`.${element}`)[index].getBoundingClientRect();\n    setPos({ top, left });\n  }, []);\n  */\n\n  const close = () => {\n    setIsOpen(prevState => !prevState);\n  };\n\n  const gotIt = () => {\n    setIsOpen(prevState => !prevState);\n    setIsSeen(true);\n    localStorage.setItem(`seen-${id}`, true);\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      document.querySelector('.root').classList.add('blur');\n    } else {\n      document.querySelector('.root').classList.remove('blur');\n    }\n  }, [isOpen]);\n\n  useEffect(() => {\n    if (localStorage.getItem(`seen-${id}`)) {\n      setIsSeen(true);\n    }\n  });\n\n  return (\n    <div className=\"info-indicator-container\">\n      <button\n        type=\"button\"\n        className={isSeen ? 'attention-indicator remove-animation' : 'attention-indicator'}\n        onClick={close}\n        style={{ left: `${-30}px`, top: `${2}px` }}\n      >\n          i\n      </button>\n      {ReactDOM.createPortal(\n        <CSSTransition\n          in={isOpen}\n          timeout={350}\n          classNames=\"front-page-container\"\n          unmountOnExit\n        >\n          <div className=\"info-modal-container\" onClick={close}>\n            <div className=\"info-modal\" onClick={e => e.stopPropagation()}>\n              {ReactHtmlParser(info)}\n              {/* eslint-disable-next-line jsx-a11y/accessible-emoji */}\n              <button type=\"button\" className=\"close-button\" onClick={gotIt}><span role=\"img\">👍🏻</span></button>\n            </div>\n          </div>\n        </CSSTransition>,\n        document.body,\n      )}\n    </div>\n  );\n};\n\nexport default LoadingBar;\n","export const getCookie = () => {\n  const cookieVal = document.cookie.split('=')[1];\n  const headers = { Authorization: cookieVal };\n  return headers;\n};\n\nexport const clearCookie = () => {\n  document.cookie = 'SESSION=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';\n};\n\nexport const setCookie = (res) => {\n  document.cookie = `SESSION=${res.headers.authorization}; expires=${new Date(new Date().setFullYear(new Date().getFullYear() + 1))}; path=/`;\n};\n\nexport default { getCookie, clearCookie, setCookie };\n","import React, { useState, useEffect } from 'react';\n\nimport axios from 'axios';\nimport InfoIndicator from '../InfoIndicator';\n\nimport { getCookie } from '../../utilities/CookieUtils';\n\nimport server from '../../server.json';\nimport cross from '../../assets/images/cross.png';\n\nconst PlayList = (props) => {\n  const {\n    userRole,\n    playlistData: {\n      accessLink, spotifyName, pin, creator,\n    },\n    songs,\n    refreshPlaylist,\n    copyAccessLink,\n  } = props;\n\n  const [removeStatus, setRemoveStatus] = useState({ songId: null, index: null });\n\n  const playlistNameInfo = `\n    <p>\n      <span style=\"color: #49DA8B\">${spotifyName}</span> is the auto-generated Spotify playlist for your party.\n    </p>\n    <p>\n      Songs added will appear both under the Playlist tab and the actual playlist in Spotify.\n    </p>\n    <p>\n      Tap on the playlist name to open it with Spotify or tap and hold to copy the link to the playlist.\n    </p>\n  `;\n\n  const partyPinInfo = `\n    <p>\n      <span style=\"color: #49DA8B\">${pin}</span> is the PIN code to join to the party you have created.\n    </p>\n    <p>\n      Share this PIN code with people so that they can contribute to your party playlist.\n    </p>\n  `;\n\n  const millisToHoursAndMinutesAndSeconds = (millis) => {\n    let hours = 0;\n    let minutes = Math.floor(millis / 60000);\n    const seconds = ((millis % 60000) / 1000).toFixed(0);\n    if (minutes > 60) {\n      minutes %= 60;\n      hours = 60 / 60;\n      return `${hours}:${minutes < 10 ? '0' : ''}${minutes} hours`;\n    }\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds} minutes`;\n  };\n\n  const totalSongDuration = () => {\n    let duration = 0;\n    songs.map((song) => {\n      duration += song.duration;\n      return null;\n    });\n    return millisToHoursAndMinutesAndSeconds(duration);\n  };\n\n  const removeSong = async (songId, index) => {\n    const headers = getCookie();\n    const bodyFormData = new FormData();\n    bodyFormData.set('songId', songId);\n    bodyFormData.set('position', index);\n\n    try {\n      await axios({\n        method: 'DELETE', url: `${server.url}/party/removeSong`, data: bodyFormData, headers, withCredentials: true,\n      });\n\n      refreshPlaylist();\n    } catch (e) {\n      setRemoveStatus({ songId: null, index: null });\n      console.log(e);\n    }\n  };\n\n  const isValidToDelete = (creatorId) => {\n    const userId = localStorage.getItem('userId');\n\n    if (userId) {\n      if (creator.id === userId) {\n        return true;\n      } else {\n        return userId === creatorId;\n      }\n    }\n    return null;\n  };\n\n  useEffect(() => {\n    if (removeStatus.songId !== null) {\n      removeSong(removeStatus.songId, removeStatus.index);\n    }\n  }, [removeStatus]);\n\n  useEffect(() => {\n    setRemoveStatus({ songId: null, index: null });\n  }, [songs]);\n\n  const songRemoveButton = (creatorId, songId, index) => {\n    if (isValidToDelete(creatorId)) {\n      if (removeStatus.index === index) {\n        return <span className=\"spinner\" />;\n      } else {\n        return (\n          <button\n            type=\"button\"\n            className=\"delete-button\"\n            onClick={() => setRemoveStatus({ songId, index })}\n            style={{\n              backgroundImage: `url(${cross})`,\n              backgroundPosition: 'center',\n              backgroundSize: '14px 14px',\n              backgroundRepeat: 'no-repeat',\n            }}\n          />\n        );\n      }\n    }\n    return null;\n  };\n\n  const songItem = (item, index) => (\n    <div key={item.id} className=\"song-wrapper\">\n      <img alt=\"album-cover\" className=\"album-cover\" src={item.albumCoverUrl} />\n      <div className={isValidToDelete(item.creator.id) ? 'text-info short-ellipsis' : 'text-info'}>\n        <p>{item.name}</p>\n        <p>{item.artists.map((artist, artistIndex) => <span key={artist.id}>{artistIndex !== item.artists.length - 1 ? `${artist.name}, ` : artist.name}</span>)}</p>\n        <p>{`Added by ${item.creator.username}`}</p>\n      </div>\n      {songRemoveButton(item.creator.id, item.id, index)}\n    </div>\n  );\n\n  if (songs.length) {\n    return (\n      <div className=\"play-list-container\">\n        <div className=\"play-list-stats\">\n          <span>{songs.length > 1 ? `${songs.length} songs` : `${songs.length} song`}</span>\n          <span>  -  </span>\n          <span>{totalSongDuration()}</span>\n        </div>\n        <div className=\"playlist-songs-container\" data-scroll-lock-scrollable>\n          {songs.map((song, index) => songItem(song, index))}\n        </div>\n        <div className=\"transparent-gradient\" />\n      </div>\n    );\n  } else {\n    switch (userRole) {\n      case 'participant':\n        return (\n          <div className=\"play-list-container center\">\n            <p>\n            The playlist is empty.\n              <br />\n            Start adding songs to the playlist.\n            </p>\n          </div>\n        );\n      case 'admin':\n        return (\n          <div className=\"play-list-container center\">\n            <div className=\"playlist-name\">\n              <span>\n                <InfoIndicator id={1} info={playlistNameInfo} />\n                PLAYLIST NAME\n              </span>\n              <br />\n              <span>\n                <a target='_new' className=\"playlist-link\" href={accessLink}>{spotifyName}</a>\n              </span>\n              <br />\n              <span>Click on the playlist name to open it in Spotify.</span>\n            </div>\n            <span className=\"dashed-separator\" />\n            <div className=\"party-pin\">\n              <span style={{ position: 'relative' }}>\n                <InfoIndicator id={2} info={partyPinInfo} />\n                PARTY PIN\n              </span>\n              <br />\n              <span>{pin}</span>\n              <br />\n              <span>Share this with your friends.</span>\n            </div>\n          </div>\n        );\n      default:\n        return null;\n    }\n  }\n};\n\nexport default PlayList;\n","import React, { useState, useRef } from 'react';\n// import '../assets/stylus/global.css';\nimport search from '../assets/images/search.png';\nimport cross from '../assets/images/cross.png';\n\nconst SearchBar = (props) => {\n  const { onChange, onClear, placeholder } = props;\n\n  const inputEl = useRef('');\n\n  const [songName, setSongName] = useState('');\n\n  const handleChange = (e) => {\n    setSongName(e.target.value);\n    onChange(e.target.value);\n  };\n\n  const clearInput = () => {\n    setSongName('');\n    onChange('');\n    onClear();\n    inputEl.current.value = '';\n    inputEl.current.focus();\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      inputEl.current.blur();\n    }\n  };\n\n  return (\n    <div className=\"search-bar-container\">\n      <input\n        spellCheck={false}\n        type=\"text\"\n        ref={inputEl}\n        className=\"custom-search-bar\"\n        placeholder={placeholder}\n        onChange={handleChange}\n        onKeyDown={handleKeyPress}\n        style={{\n          backgroundImage: `url(${search})`,\n          backgroundPosition: '10px center',\n          backgroundSize: '18px 18px',\n          backgroundRepeat: 'no-repeat',\n        }}\n      />\n      {Boolean(songName.length) && (\n      <button\n        type=\"button\"\n        className=\"delete-button\"\n        onClick={clearInput}\n        style={{\n          backgroundImage: `url(${cross})`,\n          backgroundPosition: 'center',\n          backgroundSize: '14px 14px',\n          backgroundRepeat: 'no-repeat',\n        }}\n      />\n      )}\n    </div>\n  );\n};\n\nexport default SearchBar;\n","import React, { useState, useEffect, useRef } from 'react';\n\nimport axios from 'axios';\nimport { useDebounce } from 'use-debounce';\n\nimport SearchBar from '../SearchBar';\nimport { getCookie } from '../../utilities/CookieUtils';\n\nimport server from '../../server.json';\n\nlet loaderTimeout = null;\n\nconst AddSong = (props) => {\n  const { refreshPlaylist, songs } = props;\n\n  const [songName, setSongName] = useState('');\n  const [response, setResponse] = useState([]);\n  const [isPlaying, setIsPlaying] = useState({ id: null });\n  const [showSongLoading, setShowSongLoading] = useState(false);\n  const [readyToPlay, setReadyToPlay] = useState(false);\n  const [offset, setOffset] = useState(0);\n  const [noResult, setNoResult] = useState(false);\n  const [addingSong, setAddingSong] = useState({ id: null, index: null });\n  const [inputDebounced] = useDebounce(songName, 300);\n  const [isScrollingFinished, setIsScrollingFinished] = useState(true);\n\n  let addSongTimeOut;\n  let scrollTimeOut = null;\n\n  const refEl = useRef(null);\n\n  const getSong = async (input) => {\n    try {\n      const res = await axios({\n        method: 'GET', url: `${server.url}/song/search?q=${input}&limit=50&offset=0`, withCredentials: true,\n      });\n      setResponse(res.data.tracks.items);\n      if (!res.data.tracks.items.length) {\n        setNoResult(true);\n      }\n      refEl.current.scrollTop = 0;\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const fetchMore = async () => {\n    try {\n      const res = await axios({\n        method: 'GET', url: `${server.url}/song/search?q=${inputDebounced}&limit=20&offset=${offset}`, withCredentials: true,\n      });\n      setResponse(prevState => [...prevState, ...res.data.tracks.items]);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const addSongToPlaylist = async (songId) => {\n    const headers = getCookie();\n    const bodyFormData = new FormData();\n    bodyFormData.set('songId', songId);\n\n    try {\n      await axios({\n        method: 'POST', url: `${server.url}/party/addSong`, data: bodyFormData, headers, withCredentials: true,\n      });\n      setTimeout(() => setAddingSong({ id: null, index: null }), 100);\n      refreshPlaylist();\n    } catch (e) {\n      setAddingSong({ id: null, index: null });\n      console.log(e);\n    }\n  };\n\n  const onCanPlayThrough = () => {\n    setReadyToPlay(true);\n    setShowSongLoading(false);\n    clearTimeout(loaderTimeout);\n  };\n\n  const handleSongLoadingSpinner = () => {\n    loaderTimeout = setTimeout(() => setShowSongLoading(true), 200);\n  };\n\n  const togglePreview = (id) => {\n    setReadyToPlay(false);\n    if (isPlaying.id === id) {\n      setIsPlaying({ id: null });\n      setShowSongLoading(false);\n    } else {\n      setIsPlaying({ id });\n      handleSongLoadingSpinner();\n    }\n  };\n\n  useEffect(() => {\n    if (inputDebounced.length) {\n      setOffset(0);\n      try {\n        getSong(inputDebounced);\n      } catch (e) {\n        console.log(e);\n      }\n    } else {\n      setResponse([]);\n    }\n  }, [inputDebounced]);\n\n  useEffect(() => {\n    if (offset > 0 && response.length < 60) {\n      try {\n        // fetchMore();\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }, [offset]);\n\n  const detectScroll = () => {\n    const element = refEl.current;\n\n    console.log('s');\n    clearTimeout(scrollTimeOut);\n\n    scrollTimeOut = setTimeout(() => {\n      setIsScrollingFinished(true);\n    }, 500);\n\n    if (isScrollingFinished) {\n      console.log('hide');\n      document.querySelector('.custom-search-bar').blur();\n      setIsScrollingFinished(false);\n    }\n\n    // Detect end of scroll\n    if (element.offsetHeight + element.scrollTop >= element.scrollHeight) {\n      setOffset(prevState => prevState + 20);\n    }\n  };\n\n  const debouncedAddSong = (id, index) => {\n    if (isPlaying.id === id) {\n      togglePreview(id);\n    }\n    clearTimeout(addSongTimeOut);\n\n    addSongTimeOut = setTimeout(() => {\n      setAddingSong({ id, index });\n    }, 200);\n  };\n\n  useEffect(() => {\n    if (addingSong.id !== null) {\n      addSongToPlaylist(addingSong.id);\n    }\n  }, [addingSong]);\n\n  useEffect(() => {\n    setReadyToPlay(false);\n    setIsPlaying({ id: null });\n  }, [songName]);\n\n  const isSongExisting = songId => songs.some(e => e.id === songId);\n\n  const song = (item, index) => (\n    <div key={item.id} className=\"song-wrapper\">\n      <button type=\"button\" className={item.preview_url ? 'album-cover' : 'album-cover no-click'} onClick={() => togglePreview(item.id)}>\n        {(isPlaying.id === item.id && readyToPlay)\n          && (\n          <div className=\"circle\">\n            <div className=\"square\" />\n          </div>\n          )}\n        {item.preview_url\n          && (\n            <div className=\"preview-indicator\">\n              {(isPlaying.id === item.id && showSongLoading) && <span className=\"spinner mini\" />}\n              <div className=\"arrow\" />\n            </div>\n          )}\n        <img alt=\"album-cover\" className={(isPlaying.id === item.id && readyToPlay) ? 'playing' : null} src={item.album.images.length ? item.album.images[1].url : null} />\n      </button>\n      <div type=\"button\" className={addingSong.index === index ? 'text-info short-ellipsis' : 'text-info'} onClick={isSongExisting(item.id) ? null : () => debouncedAddSong(item.id, index)}>\n        <p className={isSongExisting(item.id) && 'greyed-out'}>{item.name}</p>\n        <p className={isSongExisting(item.id) && 'greyed-out'}>{item.artists.map((artist, artistIndex) => <span key={artist.id}>{artistIndex !== item.artists.length - 1 ? `${artist.name}, ` : artist.name}</span>)}</p>\n        <div className={(isPlaying.id === item.id && readyToPlay) ? 'playing-song-bar playing' : 'playing-song-bar'} />\n        { /* eslint-disable-next-line jsx-a11y/media-has-caption */}\n        {isPlaying.id === item.id && <audio src={item.preview_url} autoPlay onCanPlayThrough={onCanPlayThrough} onEnded={togglePreview} />}\n      </div>\n      {addingSong.index === index && <span className=\"spinner\" />}\n    </div>\n  );\n\n  return (\n    <div className=\"add-song-container\">\n      <SearchBar\n        placeholder='Search a song'\n        onChange={setSongName}\n        onClear={() => setNoResult(false)}\n      />\n      <div ref={refEl} className=\"songs-container\" data-scroll-lock-scrollable onScroll={detectScroll}>\n        {songName.length ? response.map((item, index) => song(item, index)) : <span className=\"add-song-message\">Add a new song to playlist</span>}\n        {noResult && <span className=\"add-song-message\">No matching result</span>}\n      </div>\n      <div className=\"transparent-gradient\" />\n    </div>\n  );\n};\n\nexport default AddSong;\n","import React from 'react';\n\nimport cross from '../assets/images/cross.png';\n\nconst SlidingMenu = (props) => {\n  const {\n    close, exit, copyAccessLink, playlistData: {\n      accessLink, spotifyName, pin,\n    },\n  } = props;\n\n  return (\n    <div className=\"sliding-menu-container\" onClick={e => e.stopPropagation()}>\n      <div className=\"cover\" onClick={close} />\n      <div className=\"vertical-wrapper\">\n        <div className=\"inner-wrapper\">\n          <p className=\"header\">Playlist Name</p>\n          <a className=\"text\" href={accessLink}>{spotifyName}</a>\n        </div>\n        <div className=\"inner-wrapper\">\n          <p className=\"header\">Party PIN</p>\n          <p className=\"text\">{pin}</p>\n        </div>\n        <div className=\"inner-wrapper-bottom\">\n          {/* <button type=\"button\" onClick={copyAccessLink}>Access Link</button> */}\n          <button type=\"button\" onClick={exit}>Leave the party</button>\n        </div>\n      </div>\n\n      <button type=\"button\" className=\"close-button\" onClick={close}>\n        <img alt=\"more\" src={cross} />\n      </button>\n    </div>\n  );\n};\n\nexport default SlidingMenu;\n","import React, { useState, useEffect, useRef } from 'react';\n\nimport axios from 'axios';\nimport { CSSTransition } from 'react-transition-group';\n\nimport ReactSwipe from '../ReactSwipe';\nimport TabMenu from '../TabMenu';\nimport PlayList from './PlayList';\nimport AddSong from './AddSong';\nimport SlidingMenu from '../SlidingMenu';\nimport { getCookie, clearCookie } from '../../utilities/CookieUtils';\n\nimport server from '../../server.json';\n\nconst PartyScreen = (props) => {\n  const {\n    screen, userRole, playlistData, clearParty,\n  } = props;\n\n  const reactSwipeEl = useRef(null);\n\n  const [tabPos, setTabPos] = useState(0);\n  const [toggleMore, setToggleMore] = useState(false);\n  const [songs, setSongs] = useState([]);\n\n  const detectChange = () => {\n    setTabPos(reactSwipeEl.current.getPos());\n    document.querySelector('.custom-search-bar').blur();\n  };\n\n  const refreshPlaylist = async () => {\n    const headers = getCookie();\n\n    try {\n      const res = await axios({\n        method: 'GET', url: `${server.url}/party`, headers, withCredentials: true,\n      });\n      if (typeof res.data === 'object') {\n        setSongs(res.data.songList);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const leaveParty = () => {\n    screen('frontpage');\n    localStorage.removeItem('userId');\n    clearCookie();\n  };\n\n  const copyAccessLink = () => {\n    const url = process.env.REACT_APP_URL;\n    navigator.clipboard.writeText(`${url}/?pin=${playlistData.pin}`);\n  };\n\n  useEffect(() => {\n    setSongs(playlistData.songList);\n    const autoFetch = setInterval(() => {\n      refreshPlaylist();\n    }, 5000);\n    return () => {\n      clearParty();\n      clearInterval(autoFetch);\n    };\n  }, []);\n\n  return (\n    <div className=\"party-screen-container\" onClick={() => toggleMore && setToggleMore(prev => !prev)}>\n      <CSSTransition\n        in={toggleMore}\n        timeout={250}\n        classNames=\"sliding-menu\"\n        unmountOnExit\n      >\n        <SlidingMenu\n          close={() => setToggleMore(prev => !prev)}\n          copyAccessLink={copyAccessLink}\n          exit={leaveParty}\n          playlistData={playlistData}\n        />\n      </CSSTransition>\n      <TabMenu\n        moreButton={() => setToggleMore(prev => !prev)}\n        next={() => reactSwipeEl.current.next()}\n        prev={() => reactSwipeEl.current.prev()}\n        tabPos={tabPos}\n      />\n      <ReactSwipe\n        key=\"swipe\"\n        className={toggleMore ? 'carousel blur' : 'carousel'}\n        swipeOptions={{ continuous: false, callback: detectChange }}\n        ref={reactSwipeEl}\n      >\n        <PlayList userRole={userRole} playlistData={playlistData} songs={songs} refreshPlaylist={refreshPlaylist} copyAccessLink={copyAccessLink} />\n        <AddSong refreshPlaylist={refreshPlaylist} songs={songs} />\n      </ReactSwipe>\n    </div>\n  );\n};\n\nexport default PartyScreen;\n","import React from 'react';\nimport NavigationButtons from '../NavigationButtons';\n\nconst AboutPage = (props) => {\n  const { screen } = props;\n\n  return (\n    <div className=\"about-page-container\">\n      <p>\n        <b className=\"app-name\">PlayVi</b>\n        {' '}\n      makes it easy to collaborate on Spotify playlists mainly for home parties where several people get involved and want to have control on the songs to be played during the event.\n      </p>\n      <p>\n      Even people who don’t have a Spotify account can still decide what to be played next!\n      </p>\n      <NavigationButtons\n        leftButton='Back'\n        backAction={() => screen('frontpage')}\n      />\n    </div>\n  );\n};\n\nexport default AboutPage;\n","import React, { useEffect, useState } from 'react';\n\nimport axios from 'axios';\nimport { CSSTransition } from 'react-transition-group';\nimport { disablePageScroll } from 'scroll-lock';\n\nimport LoadingPage from './components/views/LoadingPage';\nimport FrontPage from './components/views/FrontPage';\nimport CreateParty from './components/views/CreateParty';\nimport JoinParty from './components/views/JoinParty';\nimport PartyScreen from './components/views/PartyScreen';\nimport AboutPage from './components/views/AboutPage';\n\nimport { getCookie, clearCookie, setCookie } from './utilities/CookieUtils';\n\nimport server from './server.json';\nimport './assets/stylus/global.css';\n\n\nconst App = () => {\n  const [screen, setScreen] = useState('loading');\n  const [loading, setLoading] = useState(false);\n  const [initialPin, setInitialPin] = useState('');\n  const [playlistData, setPlaylistData] = useState(null);\n  const [isPinValid, setIsPinValid] = useState(null);\n\n  const dummyReq = async () => {\n    const headers = {\n      Authorization: null,\n    };\n\n    await axios({\n      method: 'GET', url: `${server.url}/party`, headers, withCredentials: true,\n    });\n  };\n\n  const parseQueryString = () => {\n    const pin = window.location.search.substring(1).split('=')[1];\n\n    // To wake up the heroku dyno for server.\n    dummyReq();\n\n    setTimeout(() => {\n      if (pin !== undefined) {\n        setInitialPin(pin);\n        setScreen('join');\n      } else {\n        setScreen('frontpage');\n      }\n    }, 500);\n  };\n\n  const checkUser = async () => {\n    const headers = getCookie();\n\n    if (headers.Authorization === undefined) {\n      parseQueryString();\n    } else {\n      try {\n        const res = await axios({\n          method: 'GET', url: `${server.url}/party`, headers, withCredentials: true,\n        });\n        if (typeof res.data === 'object') {\n          setTimeout(() => {\n            if (res.data.creator.id === localStorage.getItem('userId')) {\n              setPlaylistData(res.data);\n              setScreen('admin');\n            } else {\n              setPlaylistData(res.data);\n              setScreen('participant');\n            }\n          }, 300);\n        } else {\n          clearCookie();\n          parseQueryString();\n        }\n      } catch (e) {\n        clearCookie();\n        parseQueryString();\n      }\n    }\n  };\n\n  const createPlaylist = async (nickname) => {\n    setLoading(true);\n    const bodyFormData = new FormData();\n    bodyFormData.set('username', nickname);\n\n    try {\n      const res = await axios({\n        method: 'POST', url: `${server.url}/party/create`, data: bodyFormData, withCredentials: true,\n      });\n      localStorage.setItem('userId', res.data.creator.id);\n      setPlaylistData(res.data);\n      setLoading(false);\n      setCookie(res);\n    } catch (e) {\n      setLoading(false);\n    }\n  };\n\n  const joinParty = async (pin, nickname) => {\n    setLoading(true);\n    setIsPinValid(null);\n    const bodyFormData = new FormData();\n    bodyFormData.set('username', nickname);\n    bodyFormData.set('pin', pin);\n\n    try {\n      const res = await axios({\n        method: 'POST', url: `${server.url}/party`, data: bodyFormData, withCredentials: true,\n      });\n      setLoading(false);\n      if (typeof res.data === 'object') {\n        localStorage.setItem('userId', res.data.id);\n        setIsPinValid(true);\n        setCookie(res);\n        checkUser();\n      } else {\n        setIsPinValid(false);\n      }\n    } catch (e) {\n      setLoading(false);\n    }\n  };\n\n  const clearParty = () => setPlaylistData(null);\n\n  useEffect(() => {\n    disablePageScroll(null);\n    checkUser();\n\n    const vh = window.innerHeight * 0.01;\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\n    document.addEventListener('gesturestart', e => e.preventDefault());\n  }, []);\n\n\n  return (\n    <div className=\"App\">\n      {screen === 'loading' && <LoadingPage />}\n      <CSSTransition\n        in={screen === 'frontpage'}\n        timeout={350}\n        classNames=\"front-page-container\"\n        unmountOnExit\n      >\n        <FrontPage screen={type => setScreen(type)} />\n      </CSSTransition>\n      <CSSTransition\n        in={screen === 'create'}\n        timeout={350}\n        classNames=\"join-party-container\"\n        unmountOnExit\n      >\n        <CreateParty\n          screen={type => setScreen(type)}\n          loading={loading}\n          clearParty={clearParty}\n          createPlaylist={createPlaylist}\n          playlistData={playlistData}\n        />\n      </CSSTransition>\n      <CSSTransition\n        in={screen === 'join'}\n        timeout={350}\n        classNames=\"join-party-container\"\n        unmountOnExit\n      >\n        <JoinParty\n          screen={type => setScreen(type)}\n          loading={loading}\n          clearParty={clearParty}\n          joinParty={joinParty}\n          isPinValid={isPinValid}\n          initialPin={initialPin}\n        />\n      </CSSTransition>\n      <CSSTransition\n        in={screen === 'admin' || screen === 'participant'}\n        timeout={350}\n        classNames=\"join-party-container\"\n        unmountOnExit\n      >\n        <PartyScreen\n          screen={type => setScreen(type)}\n          clearParty={clearParty}\n          userRole={screen}\n          playlistData={playlistData}\n        />\n      </CSSTransition>\n      <CSSTransition\n        in={screen === 'about'}\n        timeout={350}\n        classNames=\"join-party-container\"\n        unmountOnExit\n      >\n        <AboutPage\n          screen={type => setScreen(type)}\n        />\n      </CSSTransition>\n    </div>\n  );\n};\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADQSURBVHgB5ZbRCcMwDEQvmSAjZISO4A3ajTpCskG7QidpN0g2ucrYUJqPRpYpyOSBwGD5xVz8IWADySA1SS388JS6SY2oxK1fNod8cI8JBtz7c0paYu+AAlz7qUtui/pPufbLYqSdoLica38vjivsXBQ9rv0xgBPsnBU9rv1dfAeooBN+7Xv39zg4MYAVdl6KnhV2/u6PATxgR3NB336m0dHKuPeFJvyymFnODCXu/UxzdNEoiQKa8VOXZOwpmtOb8jONlnd+J7rkgwGVePO/ATT8sfY1AxLgAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANoSURBVHgB7ZqNURsxEIWfXYFTQa6DkAq4DkIHcQl0gDuADhwqIKngnAogFeg6gFTwssrJg4eAtPJIOhHrm9mxBx269dNKWv0AjVdZIDEkO/noxT6J2e9nYitnlidno9iD2C/7uVgsHvC/IWL0YtdihsdjxLZiZ3jvOEEGpmcQW+O9kVGQlxhOXbNuxMkVpy5TGvvOFWrEtpzYPefDsLboEYfOxB45P4a1DM6sR5RDviIz3jyGU+sMeM5BtNg85RZTnmLtSfKU0dVp6+qcXYidu++xfJ4l9+E0phjGcSfWIxJOs9w3xmGjuENpIkUZUjjJqTFiBDIsOVvJy66UjtlWu0RibJ3Uj2vXKIFrNW1rZZshGNeVe+SGulzFsED/jhBnQE7kBWvqKJZLUJ8u9MgFdeuf5GOKwq9LhV95ooa6seUOM6FstB6p4bQXEqLDTCgb7gapYXiQ22JmGM5xHpESTgNciB4zwylDDpFkYli6z1Blo6xLdpgZ58MYeKxHArTC7FAPPwLln5CApbKykDMl2QXKk3alLvDciHoIbTUkWVQulZWNqIenQHmHBPzdqLJDufchARVRwt8lGq+yF8YbntJAH3FiqIQRPqASFAnciATshQmN9DWdJ3eB8hEJ2AvzO/BcTcL0gfLQb1GhjZgvqIfzQPkOqaBuSd9jZpR+po1uhrcPa9h22AZ8NEiNVHrDMB1mgrpoSd941O115N2N9/u3VfjXIwesdzNcc3qRvhsdOKCJGjsWlTw+6ag7PlkjJ9RFjWFdB275ouXAGU3UZBeHcUe0ZSKYuhnKYkN8jcRInRfUH+qnPzLxOLZi3DWQLdNdA7mLeK9h6UuL1A96LwWKDms+X6COeV/Wi0Oaq2b3iGcU+y72E9PRy8NBnfvr87Zuu+7pcfwidS1132IOqL8BUQNXKAnrubmp8aG4OMdcVkyJcT5oIri4OHa20k7lKbHvXB34oaGsOM4x27UM8zPwlYVhxP+XF8c5aMPaMD0DPStlxjGPOM7R/QVmw+OxA+sNFVsH8syGccwnzoHTtpvZO3M2gx3eEMv+zd4O3bpnj0kK3584pWjieGjieGjieGjieGjieGjieGjieGjieGjieGjieGjieIgVB6dEjDg4NZTibHCKBMTZ4JR5Q5wNGv+Iszks+wNlma1sSNwuigAAAABJRU5ErkJggg==\""],"sourceRoot":""}