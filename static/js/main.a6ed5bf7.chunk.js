(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFOSURBVHgB7dvLDcIwEIThiAoohf4v0AGlUMIPiFgKQVEe3vWOV4yUG9bOh/I6OMMwC3B+HdfXcRk6ybvr2Pm89sM37s4njx6QI+4xdr4vImc4ekDOcCwiF3DSyAXcL3IFJ4lcwX0j+VycWyKB3Igrue1dEIo83JUOkNUdEUaadUMQad4JIaRbFwSQ7h0IRDabHYFsPrPlQKLOmhaDib7uPQsgcFNzK4IKzqMQajjLYqjiLAqijqsp2g2uAtkPrmQnsi9ciSFSD1digNTFlVQg9XElB5BuuNPwz76kPkXJfJMh82OCzA96Mr+qkfllu6Yo6kiLgqgiLYuhhvQohArSswjRyBYFwpAtBzdHRvyrzWYSeF24z0bgzubWAQGcWxeEcOadEMSZdUMYV92RDnBVSHJvxrvm3045Lsi7IXayIO+W5smCvJvSJwtSfVbwBNL9hozXmOmOAAAAAElFTkSuQmCC"},125:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),l=n.n(c),o=n(2),i=n.n(o),s=n(4),u=n(1),m=n(5),p=n.n(m),d=n(7),f=n(42),b=function(){return r.a.createElement("div",{className:"loading-page-container"},r.a.createElement("div",{className:"page-loader"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("p",null,"loading"))},E=function(e){var t=e.screen;return r.a.createElement("div",{className:"front-page-container"},r.a.createElement("div",{className:"logo"},"PlayVi"),r.a.createElement("button",{type:"button",className:"big-text-button",onClick:function(){return t("create")}},"Start a party"),r.a.createElement("button",{type:"button",className:"big-text-button",onClick:function(){return t("join")}},"Join to a party"),r.a.createElement("button",{type:"button",className:"small-text-button",onClick:function(){return t("about")}},"About"),r.a.createElement("button",{type:"button",className:"small-text-button",onClick:function(){return t("how-to")}},"How to use"))},g=function(e){var t=e.placeholder,n=e.getField,c=e.validate,l=e.pattern,o=e.maxlength,i=e.isAlert,s=e.onChange,m=e.onReturnKeyPress,p=e.invalidMessage,d=e.invalidValue,f=e.initialValue,b=Object(a.useRef)(null),E=Object(a.useState)(f),g=Object(u.a)(E,2),h=g[0],v=g[1];Object(a.useEffect)(function(){n(h),c(Boolean(h.length))},[h]);return r.a.createElement("div",{className:"custon-text-input-wrapper"},r.a.createElement("input",{spellCheck:!1,ref:b,type:"text",maxLength:o,pattern:l,className:i?"custom-text-input alert":"custom-text-input",placeholder:t,onChange:function(e){v(e.target.value),s()},defaultValue:f,onKeyDown:function(e){13===e.keyCode&&(b.current.blur(),m())}}),d&&r.a.createElement("span",null,p))};g.defaultProps={maxLength:15,onChange:function(){},invalidValue:!1,invalidMessage:"",initialValue:""};var h=g,v=function(e){var t=e.backAction,n=e.nextAction,a=e.leftButton,c=e.rightButton;return r.a.createElement("div",{className:"navigation-buttons-container"},r.a.createElement("button",{type:"button",className:"big-text-button",onClick:t},a),r.a.createElement("button",{type:"button",className:"big-text-button",onClick:n},c))},y=function(){return r.a.createElement("div",{className:"linear-progress small"},r.a.createElement("div",{className:"bar bar1"}),r.a.createElement("div",{className:"bar bar2"}))},A=function(e){var t=e.screen,n=e.createPlaylist,c=e.playlistData,l=e.loading,o=Object(a.useState)(""),i=Object(u.a)(o,2),s=i[0],m=i[1],p=Object(a.useState)(!1),d=Object(u.a)(p,2),f=d[0],b=d[1],E=Object(a.useState)(!1),g=Object(u.a)(E,2),A=g[0],O=g[1],N=function(){f?n(s):O(!0)};return Object(a.useEffect)(function(){s.length&&O(!1)},[s]),Object(a.useEffect)(function(){null!==c&&t("admin")},[c]),r.a.createElement("div",{className:"create-party-container"},r.a.createElement(h,{getField:function(e){return m(e)},placeholder:"Nickname",validate:function(e){return b(e)},isAlert:A,onReturnKeyPress:l?null:N}),r.a.createElement("p",{className:"info-text"},"Pick a nickname which will appear below the songs you add to the playlist."),r.a.createElement("p",{className:"info-text"},"Note that the party is going to expire after 7 days."),r.a.createElement(v,{leftButton:"Back",rightButton:"Create",backAction:function(){return t("frontpage")},nextAction:l?null:N}),l&&r.a.createElement(y,null))},O=function(e){var t=e.screen,n=e.joinParty,c=e.isPinValid,l=e.loading,o=e.clearParty,i=e.initialPin,s=Object(a.useState)(""),m=Object(u.a)(s,2),p=m[0],d=m[1],f=Object(a.useState)(i),b=Object(u.a)(f,2),E=b[0],g=b[1],A=Object(a.useState)([!1,!1]),O=Object(u.a)(A,2),N=O[0],j=O[1],x=Object(a.useState)([!1,!1]),S=Object(u.a)(x,2),k=S[0],w=S[1],P=Object(a.useState)(!1),C=Object(u.a)(P,2),I=C[0],B=C[1];Object(a.useEffect)(function(){null===c||c||B(!0)},[c]);var D=function(){N[0]&&N[1]?n(E,p):w([!N[0],!N[1]])};return Object(a.useEffect)(function(){E.length&&w(function(e){return[!1,e[1]]}),p.length&&w(function(e){return[e[0],!1]})},[E,p]),Object(a.useEffect)(function(){return""!==i&&j([!0,!1]),B(!1)},[]),r.a.createElement("div",{className:"join-party-container"},r.a.createElement("div",{className:"text-field-wrapper"},r.a.createElement(h,{getField:function(e){return g(e)},placeholder:"PARTY PIN",initialValue:E,pattern:"\\d*",validate:function(e){return j([e,N[1]])},isAlert:k[0],maxlength:4,invalidValue:I,invalidMessage:"Invalid PIN",onChange:function(){return B(!1)}}),r.a.createElement(h,{getField:function(e){return d(e)},placeholder:"Nickname",validate:function(e){return j([N[0],e])},isAlert:k[1],onReturnKeyPress:l?null:D})),r.a.createElement("p",{className:"info-text"},"Pick a nickname which will appear below the songs you add to the playlist."),r.a.createElement(v,{leftButton:"Back",rightButton:"Join",backAction:function(){t("frontpage"),o()},nextAction:l?null:D}),l&&r.a.createElement(y,null))},N=n(52),j=n(43),x=n(44),S=n(51),k=n(45),w=n(53),P=n(46),C=n.n(P),I=function(e){function t(){var e;return Object(j.a)(this,t),(e=Object(S.a)(this,Object(k.a)(t).call(this))).containerEl=r.a.createRef(),e}return Object(w.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.swipeOptions;this.swipe=C()(this.containerEl.current,e)}},{key:"componentWillUnmount",value:function(){this.swipe.kill(),this.swipe=void 0}},{key:"getPos",value:function(){return this.swipe.getPos()}},{key:"getNumSlides",value:function(){return this.swipe.getNumSlides()}},{key:"slide",value:function(){var e;(e=this.swipe).slide.apply(e,arguments)}},{key:"next",value:function(){this.swipe.next()}},{key:"prev",value:function(){this.swipe.prev()}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,a=e.style,c=e.children;return r.a.createElement("div",{id:t,ref:this.containerEl,className:"react-swipe-container ".concat(n),style:a.container},r.a.createElement("div",{style:a.wrapper},r.a.Children.map(c,function(e){if(!e)return null;var t=e.props.style?Object(N.a)({},a.child,e.props.style):a.child;return r.a.cloneElement(e,{style:t})})))}}]),t}(a.PureComponent);I.defaultProps={swipeOptions:{},style:{container:{overflow:"hidden",visibility:"hidden",position:"relative"},wrapper:{overflow:"hidden",position:"relative",height:"100%"},child:{float:"left",width:"100%",position:"relative",transitionProperty:"transform"}},className:"",childCount:0};var B=I,D=n(47),R=n.n(D),T=function(e){var t=e.moreButton,n=e.next,c=e.prev,l=e.tabPos,o=Object(a.useState)(0),i=Object(u.a)(o,2),s=i[0],m=i[1],p=function(e){"next"===e?(m(1),n()):"prev"===e&&(m(0),c())};return 0===s&&1===l?m(1):1===s&&0===l&&m(0),r.a.createElement("div",{className:"tab-menu-container"},r.a.createElement("button",{type:"button",className:"tab-button",onClick:function(){return p("prev")}},"Playlist"),r.a.createElement("button",{type:"button",className:"tab-button",onClick:function(){return p("next")}},"Add Songs"),r.a.createElement("button",{type:"button",className:"more-button",onClick:function(){return t()}},r.a.createElement("img",{alt:"more",src:R.a})),r.a.createElement("span",{className:s?"underline slide":"underline"}))},L=n(48),G=n.n(L),V=function(e){var t=e.id,n=e.info,c=Object(a.useState)(!1),o=Object(u.a)(c,2),i=o[0],s=o[1],m=Object(a.useState)(!1),p=Object(u.a)(m,2),f=p[0],b=p[1],E=function(){s(function(e){return!e})};return Object(a.useEffect)(function(){i?document.querySelector(".root").classList.add("blur"):document.querySelector(".root").classList.remove("blur")},[i]),Object(a.useEffect)(function(){localStorage.getItem("seen-".concat(t))&&b(!0)}),r.a.createElement("div",{className:"info-indicator-container"},r.a.createElement("button",{type:"button",className:f?"attention-indicator remove-animation":"attention-indicator",onClick:E,style:{left:"".concat(-30,"px"),top:"".concat(2,"px")}},"i"),l.a.createPortal(r.a.createElement(d.CSSTransition,{in:i,timeout:350,classNames:"front-page-container",unmountOnExit:!0},r.a.createElement("div",{role:"button",tabIndex:"0",className:"info-modal-container",onClick:E},r.a.createElement("div",{role:"button",tabIndex:"0",className:"info-modal",onClick:function(e){return e.stopPropagation()}},G()(n),r.a.createElement("button",{type:"button",className:"close-button",onClick:function(){s(function(e){return!e}),b(!0),localStorage.setItem("seen-".concat(t),!0)}},r.a.createElement("span",{role:"img"},"\ud83d\udc4d\ud83c\udffb"))))),document.body))},U=function(){return{Authorization:localStorage.getItem("SESSION")}},Q=function(){return localStorage.removeItem("SESSION")},F=function(e){return localStorage.setItem("SESSION",e.headers.authorization)},M=n(6),J=n(11),Y=n.n(J),K=function(e){var t=e.userRole,n=e.playlistData,c=n.accessLink,l=n.spotifyName,o=n.pin,m=n.creator,d=e.songs,f=e.refreshPlaylist,b=Object(a.useState)({songId:null,index:null}),E=Object(u.a)(b,2),g=E[0],h=E[1],v='\n    <p>\n      <span style="color: #49DA8B">'.concat(l,"</span> is the auto-generated Spotify playlist for your party.\n    </p>\n    <p>\n      Songs added will appear both under the Playlist tab and the actual playlist in Spotify.\n    </p>\n    <p>\n      Tap on the playlist name to open it with Spotify or tap and hold to copy the link to the playlist.\n    </p>\n  "),y='\n    <p>\n      <span style="color: #49DA8B">'.concat(o,"</span> is the PIN code to join to the party you have created.\n    </p>\n    <p>\n      Share this PIN code with people so that they can contribute to your party playlist.\n    </p>\n  "),A=function(){var e=Object(s.a)(i.a.mark(function e(t,n){var a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=U(),(r=new FormData).set("songId",t),r.set("position",n),e.prev=4,e.next=7,p()({method:"DELETE",url:"".concat(M.url,"/party/removeSong"),data:r,headers:a,withCredentials:!0});case 7:f(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),h({songId:null,index:null}),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[4,10]])}));return function(t,n){return e.apply(this,arguments)}}(),O=function(e){var t=localStorage.getItem("userId");return t?m.id===t||t===e:null};Object(a.useEffect)(function(){null!==g.songId&&A(g.songId,g.index)},[g]),Object(a.useEffect)(function(){h({songId:null,index:null})},[d]);var N=function(e,t){return r.a.createElement("div",{key:e.id,className:"song-wrapper"},r.a.createElement("img",{alt:"album-cover",className:"album-cover",src:e.albumCoverUrl}),r.a.createElement("div",{className:O(e.creator.id)?"text-info short-ellipsis":"text-info"},r.a.createElement("p",null,e.name),r.a.createElement("p",null,e.artists.map(function(t,n){return r.a.createElement("span",{key:t.id},n!==e.artists.length-1?"".concat(t.name,", "):t.name)})),r.a.createElement("p",null,"Added by ".concat(e.creator.username))),function(e,t,n){return O(e)?g.index===n?r.a.createElement("span",{className:"spinner"}):r.a.createElement("button",{type:"button",className:"delete-button",onClick:function(){return h({songId:t,index:n})},style:{backgroundImage:"url(".concat(Y.a,")"),backgroundPosition:"center",backgroundSize:"14px 14px",backgroundRepeat:"no-repeat"}}):null}(e.creator.id,e.id,t))};if(d.length)return r.a.createElement("div",{className:"play-list-container"},r.a.createElement("div",{className:"play-list-stats"},r.a.createElement("span",null,d.length>1?"".concat(d.length," songs"):"".concat(d.length," song")),r.a.createElement("span",null,"  -  "),r.a.createElement("span",null,function(){var e=0;return d.map(function(t){return e+=t.duration,null}),function(e){var t=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return t>60?(t%=60,"".concat(1,":").concat(t<10?"0":"").concat(t," hours")):"".concat(t,":").concat(n<10?"0":"").concat(n," minutes")}(e)}()),r.a.createElement("span",null,"  |  "),r.a.createElement("span",null,function(){var e=[];return d.forEach(function(t){e.includes(t.creator.username)||e.push(t.creator.username)}),e.length>1?"".concat(e.length," contributors"):"".concat(e.length," contributor")}())),r.a.createElement("div",{className:"playlist-songs-container","data-scroll-lock-scrollable":!0},d.map(function(e,t){return N(e,t)})),r.a.createElement("div",{className:"transparent-gradient"}));switch(t){case"participant":return r.a.createElement("div",{className:"play-list-container center"},r.a.createElement("p",null,"The playlist is empty.",r.a.createElement("br",null),"Start adding songs to the playlist."));case"admin":return r.a.createElement("div",{className:"play-list-container center"},r.a.createElement("div",{className:"playlist-name"},r.a.createElement("span",null,r.a.createElement(V,{id:1,info:v}),"PLAYLIST NAME"),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("a",{target:"_new",className:"playlist-link",href:c},l)),r.a.createElement("br",null),r.a.createElement("span",null,"Click on the playlist name to open it in Spotify.")),r.a.createElement("span",{className:"dashed-separator"}),r.a.createElement("div",{className:"party-pin"},r.a.createElement("span",{style:{position:"relative"}},r.a.createElement(V,{id:2,info:y}),"PARTY PIN"),r.a.createElement("br",null),r.a.createElement("span",null,o),r.a.createElement("br",null),r.a.createElement("span",null,"Share this with your friends.")));default:return null}},z=n(49),q=n(50),X=n.n(q),W=function(e){var t=e.onChange,n=e.onClear,c=e.placeholder,l=Object(a.useRef)(""),o=Object(a.useState)(""),i=Object(u.a)(o,2),s=i[0],m=i[1];return r.a.createElement("div",{className:"search-bar-container"},r.a.createElement("input",{spellCheck:!1,type:"text",ref:l,className:"custom-search-bar",placeholder:c,onChange:function(e){m(e.target.value),t(e.target.value)},onKeyDown:function(e){13===e.keyCode&&l.current.blur()},style:{backgroundImage:"url(".concat(X.a,")"),backgroundPosition:"10px center",backgroundSize:"18px 18px",backgroundRepeat:"no-repeat"}}),Boolean(s.length)&&r.a.createElement("button",{type:"button",className:"delete-button",onClick:function(){m(""),t(""),n(),l.current.value="",l.current.focus()},style:{backgroundImage:"url(".concat(Y.a,")"),backgroundPosition:"center",backgroundSize:"14px 14px",backgroundRepeat:"no-repeat"}}))},Z=null,H=function(e){var t,n=e.refreshPlaylist,c=e.songs,l=Object(a.useState)(""),o=Object(u.a)(l,2),m=o[0],d=o[1],f=Object(a.useState)([]),b=Object(u.a)(f,2),E=b[0],g=b[1],h=Object(a.useState)({id:null}),v=Object(u.a)(h,2),y=v[0],A=v[1],O=Object(a.useState)(!1),N=Object(u.a)(O,2),j=N[0],x=N[1],S=Object(a.useState)(!1),k=Object(u.a)(S,2),w=k[0],P=k[1],C=Object(a.useState)(!1),I=Object(u.a)(C,2),B=I[0],D=I[1],R=Object(a.useState)({id:null,index:null}),T=Object(u.a)(R,2),L=T[0],G=T[1],V=Object(z.useDebounce)(m,300),Q=Object(u.a)(V,1)[0],F=Object(a.useRef)(null),J=function(){var e=Object(s.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"GET",url:"".concat(M.url,"/song/search?q=").concat(t,"&limit=50&offset=0"),withCredentials:!0});case 3:n=e.sent,g(n.data.tracks.items),n.data.tracks.items.length||D(!0),F.current.scrollTop=0,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(s.a)(i.a.mark(function e(t){var a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=U(),(r=new FormData).set("songId",t),e.prev=3,e.next=6,p()({method:"POST",url:"".concat(M.url,"/party/addSong"),data:r,headers:a,withCredentials:!0});case 6:setTimeout(function(){return G({id:null,index:null})},100),n(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),G({id:null,index:null}),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t){return e.apply(this,arguments)}}(),K=function(){P(!0),x(!1),clearTimeout(Z)},q=function(e){P(!1),y.id===e?(A({id:null}),x(!1)):(A({id:e}),Z=setTimeout(function(){return x(!0)},200))};Object(a.useEffect)(function(){if(Q.length)try{J(Q)}catch(e){console.log(e)}else g([])},[Q]);Object(a.useEffect)(function(){null!==L.id&&Y(L.id)},[L]),Object(a.useEffect)(function(){P(!1),A({id:null})},[m]);var X=function(e){return c.some(function(t){return t.id===e})},H=function(e,n){return r.a.createElement("div",{key:e.id,className:"song-wrapper"},r.a.createElement("button",{type:"button",className:e.preview_url?"album-cover":"album-cover no-click",onClick:function(){return q(e.id)}},y.id===e.id&&w&&r.a.createElement("div",{className:"circle"},r.a.createElement("div",{className:"square"})),e.preview_url&&r.a.createElement("div",{className:"preview-indicator"},y.id===e.id&&j&&r.a.createElement("span",{className:"spinner mini"}),r.a.createElement("div",{className:"arrow"})),r.a.createElement("img",{alt:"album-cover",className:y.id===e.id&&w?"playing":null,src:e.album.images.length?e.album.images[1].url:null})),r.a.createElement("div",{type:"button",className:L.index===n?"text-info short-ellipsis":"text-info",onClick:X(e.id)?null:function(){return function(e,n){y.id===e&&q(e),clearTimeout(t),t=setTimeout(function(){G({id:e,index:n})},200)}(e.id,n)}},r.a.createElement("p",{className:X(e.id)?"greyed-out":void 0,style:e.preview_url&&{paddingLeft:"17px"}},e.name),r.a.createElement("p",{className:X(e.id)?"greyed-out":void 0},e.artists.map(function(t,n){return r.a.createElement("span",{key:t.id},n!==e.artists.length-1?"".concat(t.name,", "):t.name)})),r.a.createElement("div",{className:y.id===e.id&&w?"playing-song-bar playing":"playing-song-bar"}),y.id===e.id&&r.a.createElement("audio",{src:e.preview_url,autoPlay:!0,onCanPlayThrough:K,onEnded:q})),L.index===n&&r.a.createElement("span",{className:"spinner"}))};return r.a.createElement("div",{className:"add-song-container"},r.a.createElement(W,{placeholder:"Search a song",onChange:d,onClear:function(){return D(!1)}}),r.a.createElement("div",{ref:F,className:"songs-container",onScroll:function(){document.querySelector(".custom-search-bar").blur()},"data-scroll-lock-scrollable":!0},m.length?E.map(function(e,t){return H(e,t)}):r.a.createElement("span",{className:"add-song-message"},"Add a new song to playlist"),B&&r.a.createElement("span",{className:"add-song-message"},"No matching result")),r.a.createElement("div",{className:"transparent-gradient"}))},_=function(e){var t=e.close,n=e.exit,a=e.playlistData,c=a.accessLink,l=a.spotifyName,o=a.pin;return r.a.createElement("div",{role:"button",tabIndex:"0",className:"sliding-menu-container",onClick:function(e){return e.stopPropagation()}},r.a.createElement("div",{className:"cover",onClick:t,role:"button",tabIndex:"0"}),r.a.createElement("div",{className:"vertical-wrapper"},r.a.createElement("div",{className:"inner-wrapper"},r.a.createElement("p",{className:"header"},"Playlist Name"),r.a.createElement("a",{className:"text",href:c},l)),r.a.createElement("div",{className:"inner-wrapper"},r.a.createElement("p",{className:"header"},"Party PIN"),r.a.createElement("p",{className:"text"},o)),r.a.createElement("div",{className:"inner-wrapper-bottom"},r.a.createElement("button",{type:"button",onClick:n},"Leave the party"))),r.a.createElement("button",{type:"button",className:"close-button",onClick:t},r.a.createElement("img",{alt:"more",src:Y.a})))},$=function(e){var t=e.screen,n=e.userRole,c=e.playlistData,l=e.clearParty,o=Object(a.useRef)(null),m=Object(a.useState)(0),f=Object(u.a)(m,2),b=f[0],E=f[1],g=Object(a.useState)(!1),h=Object(u.a)(g,2),v=h[0],y=h[1],A=Object(a.useState)([]),O=Object(u.a)(A,2),N=O[0],j=O[1],x=function(){var e=Object(s.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=U(),e.prev=1,e.next=4,p()({method:"GET",url:"".concat(M.url,"/party"),headers:t,withCredentials:!0});case 4:"object"===typeof(n=e.sent).data&&j(n.data.songList),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){j(c.songList);var e=setInterval(function(){x()},5e3);return function(){l(),clearInterval(e)}},[]),r.a.createElement("div",{className:"party-screen-container",onClick:function(){return v&&y(function(e){return!e})}},r.a.createElement(d.CSSTransition,{in:v,timeout:250,classNames:"sliding-menu",unmountOnExit:!0},r.a.createElement(_,{close:function(){return y(function(e){return!e})},exit:function(){t("frontpage"),localStorage.removeItem("userId"),Q()},playlistData:c})),r.a.createElement(T,{moreButton:function(){return y(function(e){return!e})},next:function(){return o.current.next()},prev:function(){return o.current.prev()},tabPos:b}),r.a.createElement(B,{key:"swipe",className:v?"carousel blur":"carousel",swipeOptions:{continuous:!1,callback:function(){E(o.current.getPos()),document.querySelector(".custom-search-bar").blur()}},ref:o},r.a.createElement(K,{userRole:n,playlistData:c,songs:N,refreshPlaylist:x}),r.a.createElement(H,{refreshPlaylist:x,songs:N})))},ee=function(e){var t=e.screen;return r.a.createElement("div",{className:"about-page-container"},r.a.createElement("p",null,r.a.createElement("b",{className:"app-name"},"PlayVi")," ","makes it easy to collaborate on Spotify playlists mainly for home parties where several people get involved and want to have control on the songs to be played during the event."),r.a.createElement("p",null,"Even people who don\u2019t have a Spotify account can still decide what to be played next!"),r.a.createElement(v,{leftButton:"Back",backAction:function(){return t("frontpage")}}))},te=function(e){var t=e.screen;return r.a.createElement("div",{className:"how-to-page-container"},r.a.createElement("ul",null,r.a.createElement("li",null,"Start a party."),r.a.createElement("li",null,"Share the party pin & app link with people before the actual party."),r.a.createElement("li",null,"Wait for people to add songs."),r.a.createElement("li",null,"When the party day comes, click the playlist name to open & play it in Spotify.")),r.a.createElement("p",null,"For more information refer to"," ",r.a.createElement("a",{href:"https://github.com/dbilgili/PlayVi/blob/master/README.md",rel:"noopener noreferrer",target:"_blank"},"README")," ","file of the Github repo."),r.a.createElement(v,{leftButton:"Back",backAction:function(){return t("frontpage")}}))},ne=(n(125),function(){var e=Object(a.useState)("loading"),t=Object(u.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(!1),o=Object(u.a)(l,2),m=o[0],g=o[1],h=Object(a.useState)(""),v=Object(u.a)(h,2),y=v[0],N=v[1],j=Object(a.useState)(null),x=Object(u.a)(j,2),S=x[0],k=x[1],w=Object(a.useState)(null),P=Object(u.a)(w,2),C=P[0],I=P[1],B=function(){var e=Object(s.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={Authorization:null},e.next=3,p()({method:"GET",url:"".concat(M.url,"/party"),headers:t,withCredentials:!0});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),D=function(){var e=window.location.search.substring(1).split("="),t=e[0],n=e[1];B(),setTimeout(function(){"pin"===t&&void 0!==n?(N(n),c("join")):c("frontpage")},500)},R=function(){var e=Object(s.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=U()).Authorization){e.next=5;break}D(),e.next=16;break;case 5:return e.prev=5,e.next=8,p()({method:"GET",url:"".concat(M.url,"/party"),headers:t,withCredentials:!0});case 8:"object"===typeof(n=e.sent).data?setTimeout(function(){n.data.creator.id===localStorage.getItem("userId")?(k(n.data),c("admin")):(k(n.data),c("participant"))},300):(Q(),D()),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),Q(),D();case 16:case"end":return e.stop()}},e,null,[[5,12]])}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(s.a)(i.a.mark(function e(t){var n,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),(n=new FormData).set("username",t),e.prev=3,e.next=6,p()({method:"POST",url:"".concat(M.url,"/party/create"),data:n,withCredentials:!0});case 6:a=e.sent,localStorage.setItem("userId",a.data.creator.id),k(a.data),g(!1),F(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),g(!1);case 16:case"end":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(s.a)(i.a.mark(function e(t,n){var a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),I(null),(a=new FormData).set("username",n),a.set("pin",t),e.prev=5,e.next=8,p()({method:"POST",url:"".concat(M.url,"/party"),data:a,withCredentials:!0});case 8:r=e.sent,g(!1),"object"===typeof r.data?(localStorage.setItem("userId",r.data.id),I(!0),F(r),R()):I(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),g(!1);case 16:case"end":return e.stop()}},e,null,[[5,13]])}));return function(t,n){return e.apply(this,arguments)}}(),G=function(){return k(null)};return Object(a.useEffect)(function(){Object(f.disablePageScroll)(null),R();var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px")),document.addEventListener("gesturestart",function(e){return e.preventDefault()})},[]),r.a.createElement("div",{className:"App"},"loading"===n&&r.a.createElement(b,null),r.a.createElement(d.CSSTransition,{in:"frontpage"===n,timeout:350,classNames:"front-page-container",unmountOnExit:!0},r.a.createElement(E,{screen:function(e){return c(e)}})),r.a.createElement(d.CSSTransition,{in:"create"===n,timeout:350,classNames:"join-party-container",unmountOnExit:!0},r.a.createElement(A,{screen:function(e){return c(e)},loading:m,clearParty:G,createPlaylist:T,playlistData:S})),r.a.createElement(d.CSSTransition,{in:"join"===n,timeout:350,classNames:"join-party-container",unmountOnExit:!0},r.a.createElement(O,{screen:function(e){return c(e)},loading:m,clearParty:G,joinParty:L,isPinValid:C,initialPin:y})),r.a.createElement(d.CSSTransition,{in:"admin"===n||"participant"===n,timeout:350,classNames:"join-party-container",unmountOnExit:!0},r.a.createElement($,{screen:function(e){return c(e)},clearParty:G,userRole:n,playlistData:S})),r.a.createElement(d.CSSTransition,{in:"about"===n,timeout:350,classNames:"join-party-container",unmountOnExit:!0},r.a.createElement(ee,{screen:function(e){return c(e)}})),r.a.createElement(d.CSSTransition,{in:"how-to"===n,timeout:350,classNames:"join-party-container",unmountOnExit:!0},r.a.createElement(te,{screen:function(e){return c(e)}})))});l.a.render(r.a.createElement(ne,null),document.getElementById("root"))},47:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADQSURBVHgB5ZbRCcMwDEQvmSAjZISO4A3ajTpCskG7QidpN0g2ucrYUJqPRpYpyOSBwGD5xVz8IWADySA1SS388JS6SY2oxK1fNod8cI8JBtz7c0paYu+AAlz7qUtui/pPufbLYqSdoLica38vjivsXBQ9rv0xgBPsnBU9rv1dfAeooBN+7Xv39zg4MYAVdl6KnhV2/u6PATxgR3NB336m0dHKuPeFJvyymFnODCXu/UxzdNEoiQKa8VOXZOwpmtOb8jONlnd+J7rkgwGVePO/ATT8sfY1AxLgAAAAAElFTkSuQmCC"},50:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANoSURBVHgB7ZqNURsxEIWfXYFTQa6DkAq4DkIHcQl0gDuADhwqIKngnAogFeg6gFTwssrJg4eAtPJIOhHrm9mxBx269dNKWv0AjVdZIDEkO/noxT6J2e9nYitnlidno9iD2C/7uVgsHvC/IWL0YtdihsdjxLZiZ3jvOEEGpmcQW+O9kVGQlxhOXbNuxMkVpy5TGvvOFWrEtpzYPefDsLboEYfOxB45P4a1DM6sR5RDviIz3jyGU+sMeM5BtNg85RZTnmLtSfKU0dVp6+qcXYidu++xfJ4l9+E0phjGcSfWIxJOs9w3xmGjuENpIkUZUjjJqTFiBDIsOVvJy66UjtlWu0RibJ3Uj2vXKIFrNW1rZZshGNeVe+SGulzFsED/jhBnQE7kBWvqKJZLUJ8u9MgFdeuf5GOKwq9LhV95ooa6seUOM6FstB6p4bQXEqLDTCgb7gapYXiQ22JmGM5xHpESTgNciB4zwylDDpFkYli6z1Blo6xLdpgZ58MYeKxHArTC7FAPPwLln5CApbKykDMl2QXKk3alLvDciHoIbTUkWVQulZWNqIenQHmHBPzdqLJDufchARVRwt8lGq+yF8YbntJAH3FiqIQRPqASFAnciATshQmN9DWdJ3eB8hEJ2AvzO/BcTcL0gfLQb1GhjZgvqIfzQPkOqaBuSd9jZpR+po1uhrcPa9h22AZ8NEiNVHrDMB1mgrpoSd941O115N2N9/u3VfjXIwesdzNcc3qRvhsdOKCJGjsWlTw+6ag7PlkjJ9RFjWFdB275ouXAGU3UZBeHcUe0ZSKYuhnKYkN8jcRInRfUH+qnPzLxOLZi3DWQLdNdA7mLeK9h6UuL1A96LwWKDms+X6COeV/Wi0Oaq2b3iGcU+y72E9PRy8NBnfvr87Zuu+7pcfwidS1132IOqL8BUQNXKAnrubmp8aG4OMdcVkyJcT5oIri4OHa20k7lKbHvXB34oaGsOM4x27UM8zPwlYVhxP+XF8c5aMPaMD0DPStlxjGPOM7R/QVmw+OxA+sNFVsH8syGccwnzoHTtpvZO3M2gx3eEMv+zd4O3bpnj0kK3584pWjieGjieGjieGjieGjieGjieGjieGjieGjieGjieGjieIgVB6dEjDg4NZTibHCKBMTZ4JR5Q5wNGv+Iszks+wNlma1sSNwuigAAAABJRU5ErkJggg=="},54:function(e,t,n){e.exports=n(126)},6:function(e){e.exports={url:"https://playvi.herokuapp.com"}},97:function(e,t){}},[[54,1,2]]]);
//# sourceMappingURL=main.a6ed5bf7.chunk.js.map